PLATFORM ?= xilinx_vck5000_air
CWD=$(shell pwd)
XSA_DIR ?= $(CWD)/vivado

.phony: all

$(PLATOFORM): all
all: $(PLATFORM)

$(PLATFORM): xsa platform
	@echo 'Platform build complete'

xsa:
	$(MAKE) -C vivado PLATFORM=$(PLATFORM)

xsa_clean:
	$(MAKE) -C vivado clean PLATFORM=$(PLATFORM)
	$(MAKE) -C vivado ultraclean PLATFORM=$(PLATFORM)

platform:
	$(MAKE) -C aie_platform all

platform_clean:
	$(MAKE) -C aie_platform clean
	$(MAKE) -C aie_platform ultraclean

clean: xsa_clean platform_clean
	${RM} -r platform_repo
	
